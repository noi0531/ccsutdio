<!DOCTYPE html>
<html lang="ja" x-data="app()" x-init="init()" @mousemove.window="spot($event)" @touchmove.passive="spot($event)">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CCstudio | ホームページ作成 / EC / 業務効率化</title>

  <!-- Tailwind / Alpine / Fonts -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;900&family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">

  <style>
    /* HERO動画 */
    .hero-vid{ filter:saturate(1.18) contrast(1.05) brightness(.78) hue-rotate(10deg); animation:heroZoom 18s ease-in-out infinite alternate }
    @keyframes heroZoom{ from{transform:scale(1.02)} to{transform:scale(1.06)} }
    /* reduce-motion でも非表示にしない */
    @media (prefers-reduced-motion: reduce){
      .hero-vid{ animation:none; filter:brightness(.85); }
    }

    :root{
      --bg:#0b0f14; --ink:#e5e7eb;
      --c1:#22d3ee; --c2:#a78bfa; --c3:#f472b6;
      --spotStrength:.16;
      --scrollCodeOpacity:.34;
    }
    html,body{background:var(--bg); color:var(--ink); font-family:"Noto Sans JP",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;}
    .text-stable-jp{font-family:"Noto Sans JP", system-ui,-apple-system, Segoe UI, Roboto, Helvetica, Arial; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility; letter-spacing:0}
    .text-stable-latin{font-family:Poppins, system-ui,-apple-system, Segoe UI, Roboto, Helvetica, Arial; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility; letter-spacing:0}

    /* 粒子/ドット/スポット */
    .grain:before{content:""; position:fixed; inset:0; pointer-events:none; z-index:1;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity=".05"/></svg>');
      mix-blend-mode:soft-light;}
    .dots:after{content:""; position:fixed; inset:0; background:radial-gradient(circle at 1px 1px, rgba(255,255,255,.06) 1px, transparent 1.8px) 0 0/22px 22px; pointer-events:none; z-index:0; opacity:.7}
    .spot{position:fixed; inset:0; pointer-events:none; z-index:0;
      background:radial-gradient(640px 640px at var(--mx,50%) var(--my,50%), rgba(34,211,238,var(--spotStrength)), transparent 55%); mix-blend-mode:screen}

    .glass{background:linear-gradient(180deg,rgba(255,255,255,.07),rgba(255,255,255,.03)); border:1px solid rgba(255,255,255,.12); backdrop-filter:saturate(140%) blur(10px)}
    .shadow-soft{box-shadow:0 18px 60px rgba(0,0,0,.45)}
    .btn{padding:.62rem 1rem; border-radius:12px; font-weight:800; letter-spacing:.02em}
    .btn-primary{background:linear-gradient(135deg,var(--c1),var(--c2)); color:#061016; box-shadow:0 12px 34px rgba(34,211,238,.25)}
    .btn-ghost{background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.14)}
    .btn:hover{transform:translateY(-1px); filter:saturate(115%)}

    .progress{position:fixed; top:0; left:0; height:3px; background:linear-gradient(90deg,var(--c1),var(--c2),var(--c3)); width:0; z-index:90}

    /* Intro */
    .intro-wrap{position:fixed; inset:0; z-index:100; display:grid; place-items:center; background:radial-gradient(80% 120% at 50% 0%, #06090f, #0b0f14 60%)}
    .intro-wrap.pressed{animation:press .18s ease}
    @keyframes press{0%{transform:none}50%{transform:scale(.985)}100%{transform:none}}
    .intro-code{position:absolute; inset:0; padding:8vh 6vw;}
    .intro-code pre{margin:0; height:100%; width:100%; color:#d7f7ff; background:linear-gradient(180deg, rgba(6,10,14,.80), rgba(6,10,14,.60));
      font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace; font-size:clamp(12px,2.2vw,18px); line-height:1.78; white-space:pre-wrap;}
    .caret{display:inline-block; width:8px; height:1.1em; background:#a5f3fc; margin-left:2px; vertical-align:bottom; animation:blink 1s steps(2,end) infinite}
    @keyframes blink{50%{opacity:0}}
    .enter-hint{position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); font-weight:900; font-size:clamp(26px,4.4vw,52px); color:#e6fbff; text-shadow:0 8px 24px rgba(103,232,249,.55); opacity:0; transition:opacity .6s ease}
    .enter-hint.show{opacity:1}

    /* HERO */
    .headline{background:linear-gradient(90deg,#ffffff,#c8f7ff,#a78bfa); -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow:0 10px 44px rgba(167,139,250,.38)}
    .scroll-ind{position:absolute; right:22px; bottom:28px; display:grid; place-items:center; gap:.6rem; opacity:.95}
    .mouse{width:30px; height:50px; border:3px solid rgba(255,255,255,.75); border-radius:16px; position:relative}
    .wheel{width:4px; height:10px; background:#fff; border-radius:3px; position:absolute; left:50%; top:10px; transform:translateX(-50%); animation:wheel 1.6s ease-in-out infinite}
    @keyframes wheel{0%{opacity:0; transform:translate(-50%,0)} 30%{opacity:1} 100%{opacity:0; transform:translate(-50%,13px)}}

    /* セクションテーマ */
    .sec{position:relative; overflow:hidden}
    .sec::before{content:""; position:absolute; inset:0; background:var(--overlay,transparent); z-index:-1}
    .bg-pain{--overlay:linear-gradient(180deg,rgba(0,50,60,.30),rgba(0,0,0,.85))}
    .bg-price{--overlay:linear-gradient(180deg,rgba(15,10,40,.35),rgba(0,0,0,.88))}
    .bg-why{--overlay:linear-gradient(180deg,rgba(40,10,20,.35),rgba(0,0,0,.88))}
    .bg-compare{--overlay:linear-gradient(180deg,rgba(10,30,10,.35),rgba(0,0,0,.88))}
    .bg-voices{--overlay:linear-gradient(180deg,rgba(10,20,40,.35),rgba(0,0,0,.88))}
    .bg-about{--overlay:linear-gradient(180deg,rgba(40,30,10,.35),rgba(0,0,0,.88))}

    /* お困りカード（共通） */
    .p-card{position:relative; border-radius:24px; padding:28px; overflow:hidden; border:1px solid rgba(255,255,255,.12);
      background:linear-gradient(180deg,rgba(255,255,255,.07),rgba(255,255,255,.03))}
    .p-card::before{content:""; position:absolute; inset:-1px; border-radius:26px; padding:1px;
      background:conic-gradient(from 220deg at 50% 50%, rgba(34,211,238,.9), rgba(167,139,250,.9), rgba(244,114,182,.9), rgba(34,211,238,.9));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0); -webkit-mask-composite:xor; mask-composite:exclude; opacity:.45}
    .p-icon{width:56px; height:56px; display:grid; place-items:center; border-radius:16px; background:linear-gradient(135deg,var(--c1),var(--c2)); color:#061016; font-weight:900}
    .p-underline{height:2px; background:linear-gradient(90deg,var(--c1),transparent); margin-top:.6rem; opacity:.6}

    /* Reveal / Type */
    .reveal{opacity:0; transform:translateY(14px); transition:opacity .6s ease, transform .6s ease}
    .reveal.is-visible{opacity:1; transform:none}
    .whitespace-pre-wrap{white-space:pre-wrap}

    /* 料金カード */
    .card{position:relative; border-radius:22px; padding:26px; background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03)); border:1px solid rgba(255,255,255,.12); overflow:hidden; transform-style:preserve-3d; transition:transform .35s ease, box-shadow .35s ease}
    .shine{position:absolute; inset:0; background:linear-gradient(120deg,transparent,rgba(255,255,255,.18),transparent); transform:translateX(-120%); transition:transform .6s ease; pointer-events:none}
    .card:hover{transform:perspective(900px) rotateX(2deg) rotateY(-2deg) translateY(-3px); box-shadow:0 22px 70px rgba(0,0,0,.5)}
    .card:hover .shine{transform:translateX(120%)}

    /* Voices 横スクロール */
    .snap{scroll-snap-type:x mandatory}
    .snap>*{scroll-snap-align:start}

    /* スクロール連動 背景コード */
    .scroll-code{ position:fixed; inset:0; pointer-events:none; z-index:0; opacity:var(--scrollCodeOpacity); mix-blend-mode:normal; }
    .scroll-code pre{
      position:absolute; inset:0; margin:0; padding:10vh 5vw;
      color:#e7fbff;
      background:linear-gradient(180deg, rgba(6,10,14,.50), rgba(6,10,14,.30));
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Courier New",monospace;
      font-size:clamp(14px, 2.8vw, 22px);
      line-height:1.7; white-space:pre-wrap;
      transform:scale(1.18) rotate(-1deg);
      filter:blur(0.3px);
    }

    /* Endroll */
    .endroll{background:radial-gradient(900px 400px at 50% -15%, rgba(255,255,255,.06), transparent), #07090d}
    .roll{position:relative; width:92%; max-width:980px; margin:0 auto; height:36vh; overflow:hidden}
    .roll-inner{position:absolute; left:50%; transform:translateX(-50%); animation:roll 26s linear infinite}
    @keyframes roll{0%{top:100%} 100%{top:-120%}}
    .sns a{display:grid; place-items:center; width:52px; height:52px; border-radius:14px; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.14)}
    .sns a:hover{transform:translateY(-2px); filter:saturate(120%)}

    main.site{ position:relative; z-index:5; }

    /* ========= Painpoints XL Add-on ========= */
    .pain-xl h2{ font-size:clamp(28px,5.2vw,58px); letter-spacing:.01em; text-shadow:0 14px 40px rgba(0,0,0,.45); }
    .pain-eyebrow{ display:inline-flex; align-items:center; gap:.5rem; padding:.28rem .66rem; border-radius:999px; background:linear-gradient(135deg,rgba(34,211,238,.18),rgba(167,139,250,.18)); border:1px solid rgba(255,255,255,.18); font-weight:800; color:#c7f9ff; font-size:.88rem; }
    .pain-xl .grid{ gap:clamp(16px,2.4vw,32px); }
    .pain-xl .container{ max-width:min(1200px,92vw); }
    .p-card.pain{ padding:clamp(26px,3vw,42px); border-radius:28px; background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.03)); }
    .p-card.pain .p-icon{ position:relative; width:72px; height:72px; border-radius:20px; font-size:20px; display:grid; place-items:center; background:linear-gradient(135deg,var(--c1),var(--c2)); color:#061016; font-weight:900; box-shadow:0 8px 28px rgba(34,211,238,.28); }
    .p-card.pain .p-icon::after{ content:""; position:absolute; inset:-8px; border-radius:inherit; background:radial-gradient(60% 60% at 50% 50%, rgba(34,211,238,.45), transparent 60%); filter:blur(10px); opacity:.55; z-index:-1; }
    .p-card-number{ position:absolute; top:14px; right:18px; font-weight:900; font-size:clamp(16px,2.2vw,24px); color:#a5f3fc; opacity:.9; letter-spacing:.02em; }
    .p-title{ font-size:clamp(18px,2.4vw,28px); }
    .p-desc{ font-size:clamp(14px,1.5vw,18px); opacity:.96; }
    .p-underline{ height:2px; background:linear-gradient(90deg,var(--c1),transparent); margin-top:.8rem; opacity:.9; transform-origin:left; transform:scaleX(.08); transition:transform .6s ease; }
    .reveal.is-visible .p-underline{ transform:scaleX(1); }
    .p-card.pain:hover{ box-shadow:0 26px 90px rgba(0,0,0,.55); }
    .p-card.pain::after{ content:""; position:absolute; inset:-20%; background:radial-gradient(600px 360px at var(--gx,60%) var(--gy,20%), rgba(34,211,238,.14), transparent 60%); filter:blur(18px); z-index:-1; transition:opacity .3s ease, transform .3s ease; opacity:.7; }
    .p-card.pain:hover::after{ transform:scale(1.05); opacity:.95; }

    /* ===== Mobile polish (<= md) ===== */
    @media (max-width: 767px){
      header.glass{ background:linear-gradient(180deg,rgba(12,16,22,.75),rgba(12,16,22,.6)); border-bottom:1px solid rgba(255,255,255,.08); }
      header .btn{ padding:.5rem .8rem; }
      header .btn-ghost{ padding:0; }
      .scroll-ind{ left:50%; right:auto; transform:translateX(-50%); bottom:18px; }
      .scroll-ind .mouse{ display:none; }
      .scroll-ind span{ position:relative; display:block; width:26px; height:26px; font-size:0; border:1.8px solid rgba(255,255,255,.7); border-left:0; border-top:0; transform:rotate(45deg); border-radius:4px; animation:arrowBounce 1.6s ease-in-out infinite; }
      @keyframes arrowBounce{ 0%,100%{ transform:rotate(45deg) translateY(0); } 50%{ transform:rotate(45deg) translateY(6px); } }
      .dot-bullet{ position:relative; padding-left:1.1em; }
      .dot-bullet::before{ content:""; position:absolute; left:0; top:.55em; width:.46em; height:.46em; background:linear-gradient(90deg,var(--c1),var(--c2)); border-radius:9999px; }

      #voices h2{ font-size:clamp(22px,7.5vw,30px); letter-spacing:.02em; }
      #voices .snap{ gap:14px; }
      #voices .glass{ border-radius:20px; background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02)); }

      /* Compare: SPはカード */
      #compare table{ display:none; }
      #compare .cmp-list{ display:grid; gap:12px; margin-top:12px; }
      #compare .cmp-card{ border-radius:18px; padding:14px 16px; background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.10); }
      #compare .cmp-card .brand{ font-size:12px; color:#a5b4fc; font-weight:700; letter-spacing:.02em; margin-bottom:.25rem; }
      #compare .cmp-card dl{ display:grid; grid-template-columns:92px 1fr; gap:.2rem .75rem; }
      #compare .cmp-card dt{ color:#94a3b8; font-size:12px; }
      #compare .cmp-card dd{ font-weight:800; }
      #compare .cmp-card dd.em{ color:#a5f3fc; }
    }
  </style>
</head>

<body class="grain dots">
  <!-- 背景コード -->
  <div class="scroll-code" aria-hidden="true">
    <pre><code x-text="scrollCode.substr(0, scrollIndex)"></code></pre>
  </div>

  <div class="spot" aria-hidden="true"></div>
  <div id="progress" class="progress"></div>

  <!-- Intro -->
  <div class="intro-wrap" x-show="intro.active" x-transition.opacity>
    <div class="intro-code"><pre><code x-text="typed"></code><span class="caret" x-show="!intro.done"></span></pre></div>
    <div class="enter-hint text-stable-jp" :class="{'show': intro.showEnter}">↵ Enter</div>
  </div>

  <main class="site">
    <!-- NAV -->
    <header class="fixed top-0 inset-x-0 z-50 glass">
      <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
        <a href="#top" class="flex items-center gap-2">
          <div class="w-9 h-9 rounded-xl bg-gradient-to-br from-cyan-300 to-cyan-500 grid place-items-center font-extrabold text-slate-900 shadow-soft">CC</div>
          <span class="font-extrabold tracking-wide">CCstudio</span>
        </a>
        <nav class="hidden md:flex items-center gap-6 text-sm text-slate-300">
          <a href="#painpoints" class="hover:text-white">お困りごと</a>
          <a href="#pricing" class="hover:text-white">料金</a>
          <a href="#why" class="hover:text-white">安さの理由</a>
          <a href="#compare" class="hover:text-white">他社比較</a>
          <a href="#voices" class="hover:text-white">お客様の声</a>
          <a href="#about" class="hover:text-white">会社について</a>
          <a href="#qa" class="hover:text-white">Q&amp;A</a>
        </nav>
        <!-- 右側ボタン -->
        <div class="flex items-center gap-2">
          <button class="btn btn-primary hidden md:inline-flex" @click="openConsult()">相談する</button>
          <a :href="'tel:'+phoneNumber" class="btn btn-ghost hidden md:inline-flex">📞 電話</a>
          <button class="btn btn-primary md:hidden px-3 py-2 rounded-xl text-base" @click="openConsult()">相談</button>
          <a :href="'tel:'+phoneNumber" aria-label="電話する"
             class="md:hidden grid place-items-center w-10 h-10 rounded-xl bg-white/10 border border-white/15">📞</a>
        </div>
      </div>
    </header>

    <!-- HERO（動画背景＋本文） -->
    <section id="top" class="pt-28 md:pt-36 pb-44 relative overflow-hidden">
      <picture id="heroPoster" class="absolute inset-0 hidden">
        <img src="assets/hero-meeting-poster.jpg" alt="" class="w-full h-full object-cover">
      </picture>

<video id="heroVideo"
  class="absolute inset-0 w-full h-full object-cover hero-vid"
  autoplay muted playsinline webkit-playsinline loop preload="auto"
  poster="assets/hero-meeting-poster.jpg" tabindex="-1" aria-hidden="true">
  <!-- まず相対パス（存在する方を先に） -->
  <source src="assets/hero-meeting.webm" type="video/webm">
  <source src="assets/hero-meeting.mp4"  type="video/mp4">
  <!-- 予備：ルート相対（本当にルートに置いてる場合のみ意味あり） -->
  <source src="/assets/hero-meeting.webm" type="video/webm">
  <source src="/assets/hero-meeting.mp4"  type="video/mp4">
</video>

      <!-- オーバーレイ -->
      <div class="absolute inset-0 pointer-events-none"
           style="background:
             radial-gradient(120% 80% at 60% 10%, rgba(167,139,250,.22), transparent 55%),
             radial-gradient(120% 80% at 30% 80%, rgba(34,211,238,.18), transparent 55%);"></div>
      <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-[#0b0f14]/60 to-[#0b0f14]/92 pointer-events-none"></div>

      <!-- 本文 -->
      <div class="max-w-7xl mx-auto px-4 relative z-10">
        <div class="mt-6 md:mt-10 space-y-4">
          <h1 class="headline text-stable-jp font-black leading-[0.95] text-[12vw] md:text-[8vw]"
              x-show="hero.showTitle" x-transition.opacity>常に挑戦者で─。</h1>

          <div class="text-stable-jp font-black text-[6vw] md:text-[3.6vw]"
               x-show="hero.showSub" x-transition.opacity>
            <span x-text="hero.subTyped"></span><span class="caret" x-show="hero.showSubCaret"></span>
          </div>

          <p class="text-stable-jp font-black text-[7.2vw] md:text-[4.6vw]"
             x-show="hero.showTagline" x-transition.opacity>
            <span x-text="hero.taglineTyped"></span><span class="caret" x-show="hero.showTaglineCaret"></span>
          </p>

          <div class="pt-3 flex gap-3">
            <button class="btn btn-primary" @click="openConsult()">まずは相談</button>
            <a href="#pricing" class="btn btn-ghost">料金を見る</a>
          </div>
        </div>

        <div class="scroll-ind" aria-hidden="true">
          <div class="mouse"><span class="wheel"></span></div>
          <span class="text-xl md:text-2xl font-bold text-stable-latin">Scroll</span>
        </div>
      </div>
    </section>

    <!-- ① お困りごと（XL版） -->
    <section id="painpoints" class="sec bg-pain py-24 pain-xl"
      style="background-image:url('https://images.unsplash.com/photo-1529676468690-ae0e1a6f1413?q=80&w=1600&auto=format&fit=crop'); background-size:cover; background-position:center;">
      <div class="container mx-auto px-4">
        <span class="pain-eyebrow">Problems we solve</span>
        <h2 class="mt-3 font-black text-stable-jp reveal" data-reveal>こんなことでお困りではありませんか？</h2>

        <div class="mt-8 grid md:grid-cols-3">
          <article class="p-card pain reveal relative" data-reveal @mousemove="tilt($event)" @mouseleave="untilt($event)">
            <span class="p-card-number">01</span>
            <div class="p-icon">UI</div>
            <h3 class="mt-5 p-title font-extrabold text-stable-jp">スマホで見にくい</h3>
            <div class="p-underline"></div>
            <p class="p-desc text-slate-200 mt-3 text-stable-jp" data-type="高速表示・スマホ最適・写真/文章の見直しで“伝わる”サイトに刷新。"></p>
          </article>

          <article class="p-card pain reveal relative" data-reveal @mousemove="tilt($event)" @mouseleave="untilt($event)">
            <span class="p-card-number">02</span>
            <div class="p-icon">CV</div>
            <h3 class="mt-5 p-title font-extrabold text-stable-jp">問い合わせが伸びない</h3>
            <div class="p-underline"></div>
            <p class="p-desc text-slate-200 mt-3 text-stable-jp" data-type="導線再設計＋簡易AB、SEO初期対策でCVRを底上げ。"></p>
          </article>

          <article class="p-card pain reveal relative" data-reveal @mousemove="tilt($event)" @mouseleave="untilt($event)">
            <span class="p-card-number">03</span>
            <div class="p-icon">TX</div>
            <h3 class="mt-5 p-title font-extrabold text-stable-jp">素材準備が大変</h3>
            <div class="p-underline"></div>
            <p class="p-desc text-slate-200 mt-3 text-stable-jp" data-type="撮影・コピー作成も対応。既存素材のブラッシュアップもOK。"></p>
          </article>
        </div>
      </div>
    </section>

    <!-- ② 料金 -->
    <section id="pricing" class="sec bg-price py-20">
      <img src="https://images.unsplash.com/photo-1518779578993-ec3579fee39f?q=80&w=1600&auto=format&fit=crop" class="absolute inset-0 -z-10 w-full h-full object-cover opacity-30" alt="">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-black text-stable-jp reveal" data-reveal>料金の目安</h2>
        <p class="text-slate-400 mt-1 text-stable-jp reveal" data-reveal data-type="※下記は目安（税別）。要件定義後に正式お見積りをご提示します。"></p>

        <div class="grid md:grid-cols-3 gap-6 mt-8">
          <article class="card reveal" data-reveal @mousemove="tilt($event)" @mouseleave="untilt($event)">
            <span class="shine"></span>
            <div class="relative z-10">
              <div class="flex items-center justify-between">
                <h3 class="text-xl font-extrabold text-stable-jp">HP / LP 制作</h3>
                <span class="px-2 py-1 text-xs rounded-full bg-cyan-500/20 text-cyan-200 font-bold">人気</span>
              </div>
              <div class="mt-4">
                <div class="text-5xl md:text-6xl font-black leading-none">¥1万円〜</div>
                <div class="text-4xl md:text-5xl font-black text-slate-300 mt-1">¥10万円</div>
              </div>
              <ul class="mt-5 space-y-2 text-slate-300 text-stable-jp">
                <li class="reveal" data-reveal data-type="デザイン/実装・基本SEO・解析タグ（GA4/タグマネ）"></li>
                <li class="reveal" data-reveal data-type="スマホ最適・高速表示（Core Web Vitals意識）"></li>
                <li class="reveal" data-reveal data-type="原稿/写真の作成支援（別途可）"></li>
              </ul>
              <div class="mt-6 flex gap-3">
                <button class="btn btn-primary" @click="openConsult('HP作成')">相談</button>
                <button class="btn btn-ghost" @click="openDetail('HP / LP 制作')">詳細</button>
              </div>
            </div>
          </article>

          <article class="card reveal" data-reveal @mousemove="tilt($event)" @mouseleave="untilt($event)">
            <span class="shine"></span>
            <div class="relative z-10">
              <h3 class="text-xl font-extrabold text-stable-jp">EC サイト</h3>
              <div class="mt-4">
                <div class="text-5xl md:text-6xl font-black leading-none">1万円〜</div>
                <div class="text-4xl md:text-5xl font-black text-slate-300 mt-1">〜¥10万円</div>
              </div>
              <ul class="mt-5 space-y-2 text-slate-300 text-stable-jp">
                <li class="reveal" data-reveal data-type="Shopify/BASE/Headless から最適方式を選定"></li>
                <li class="reveal" data-reveal data-type="商品登録テンプレ・送料/税設定・決済連携サポート"></li>
                <li class="reveal" data-reveal data-type="簡易AB/導線最適化でCVR改善"></li>
              </ul>
              <div class="mt-6 flex gap-3">
                <button class="btn btn-primary" @click="openConsult('ECサイト作成')">相談</button>
                <button class="btn btn-ghost" @click="openDetail('EC サイト')">詳細</button>
              </div>
            </div>
          </article>

          <article class="card reveal" data-reveal @mousemove="tilt($event)" @mouseleave="untilt($event)">
            <span class="shine"></span>
            <div class="relative z-10">
              <h3 class="text-xl font-extrabold text-stable-jp">業務効率化 / DX</h3>
              <div class="mt-4">
                <div class="text-5xl md:text-6xl font-black leading-none">¥10万円〜</div>
                <div class="text-4xl md:text-5xl font-black text-slate-300 mt-1">¥50万円</div>
              </div>
              <ul class="mt-5 space-y-2 text-slate-300 text-stable-jp">
                <li class="reveal" data-reveal data-type="見積/請求・在庫・勤怠などの軽量自動化（小さく早く）"></li>
                <li class="reveal" data-reveal data-type="Spreadsheet / kintone / 外部API 連携"></li>
                <li class="reveal" data-reveal data-type="小規模PoC → 横展開の伴走"></li>
              </ul>
              <div class="mt-6 flex gap-3">
                <button class="btn btn-primary" @click="openConsult('業務効率化')">相談</button>
                <button class="btn btn-ghost" @click="openDetail('業務効率化 / DX')">詳細</button>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- ③ 業界最安値の理由 -->
    <section id="why" class="sec bg-why py-20"
      style="background-image:url('https://images.unsplash.com/photo-1521737604893-d14cc237f11d?q=80&w=1600&auto=format&fit=crop'); background-size:cover; background-position:center;">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-black text-stable-jp reveal" data-reveal>業界最安値の理由</h2>
        <div class="mt-6 grid md:grid-cols-4 gap-6">
          <article class="glass rounded-2xl p-6 reveal shadow-soft" data-reveal>
            <h3 class="font-extrabold text-lg text-stable-jp">他が高いだけ！</h3>
            <p class="text-slate-100/95 mt-2 text-stable-jp">我々が安すぎるのではなく、不要コストが積み上がった相場が高いだけ。</p>
          </article>
          <article class="glass rounded-2xl p-6 reveal shadow-soft" data-reveal>
            <h3 class="font-extrabold text-lg text-stable-jp">最先端AIを活用</h3>
            <p class="text-slate-100/95 mt-2 text-stable-jp">生成AI×自動化で制作・調査・検証の無駄時間を大胆に圧縮。</p>
          </article>
          <article class="glass rounded-2xl p-6 reveal shadow-soft" data-reveal>
            <h3 class="font-extrabold text-lg text-stable-jp">“一緒に作る”姿勢</h3>
            <p class="text-slate-100/95 mt-2 text-stable-jp">いいモノを早く出すのが好き。飾りの稼働は削り、価値に集中。</p>
          </article>
          <article class="glass rounded-2xl p-6 reveal shadow-soft" data-reveal>
            <h3 class="font-extrabold text-lg text-stable-jp">密な打ち合わせ</h3>
            <p class="text-slate-100/95 mt-2 text-stable-jp">要件を詰めるほどムダ見積は消える。削れる費用は一緒に削る。</p>
          </article>
        </div>
      </div>
    </section>

    <!-- ④ 他社比較 -->
    <section id="compare" class="sec bg-compare py-16">
      <img src="https://images.unsplash.com/photo-1529336953121-ad23b4a226d7?q=80&w=1600&auto=format&fit=crop" class="absolute inset-0 -z-10 w-full h-full object-cover opacity-25" alt="">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-black text-stable-jp reveal" data-reveal>他社比較</h2>
        <div class="overflow-x-auto mt-6 glass rounded-2xl p-4 reveal" data-reveal>
          <table class="w-full text-left">
            <thead class="text-slate-300">
              <tr>
                <th class="py-3 px-3">項目</th><th class="py-3 px-3">CCstudio</th><th class="py-3 px-3">テンプレ制作</th><th class="py-3 px-3">大手代理店</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-white/10">
              <tr><td class="py-3 px-3">スピード</td><td class="py-3 px-3 font-bold text-cyan-200">最短5営業日</td><td class="py-3 px-3">2〜4週間</td><td class="py-3 px-3">1〜2ヶ月</td></tr>
              <tr><td class="py-3 px-3">自由度</td><td class="py-3 px-3 font-bold text-cyan-200">フルコーディング</td><td class="py-3 px-3">制約多め</td><td class="py-3 px-3">要審査</td></tr>
              <tr><td class="py-3 px-3">集客設計</td><td class="py-3 px-3 font-bold text-cyan-200">SEO/導線/AB同時</td><td class="py-3 px-3">最低限</td><td class="py-3 px-3">別チーム</td></tr>
              <tr><td class="py-3 px-3">運用/保守</td><td class="py-3 px-3 font-bold text-cyan-200">軽保守で継続</td><td class="py-3 px-3">スポット</td><td class="py-3 px-3">高額契約</td></tr>
              <tr><td class="py-3 px-3">価格柔軟性</td><td class="py-3 px-3 font-bold text-cyan-200">要件に応じ最適化</td><td class="py-3 px-3">固定</td><td class="py-3 px-3">固定＋手数料</td></tr>
            </tbody>
          </table>
        </div>

        <!-- SP専用：カード比較（PCはテーブルを表示） -->
        <div class="md:hidden cmp-list">
          <div class="cmp-card">
            <div class="brand">CCstudio</div>
            <dl>
              <dt>スピード</dt><dd class="em">最短5営業日</dd>
              <dt>自由度</dt><dd class="em">フルコーディング</dd>
              <dt>集客設計</dt><dd class="em">SEO/導線/AB同時</dd>
              <dt>運用/保守</dt><dd class="em">軽保守で継続</dd>
              <dt>価格柔軟性</dt><dd class="em">要件に応じ最適化</dd>
            </dl>
          </div>
          <div class="cmp-card">
            <div class="brand">テンプレ制作</div>
            <dl>
              <dt>スピード</dt><dd>2〜4週間</dd>
              <dt>自由度</dt><dd>制約多め</dd>
              <dt>集客設計</dt><dd>最低限</dd>
              <dt>運用/保守</dt><dd>スポット</dd>
              <dt>価格柔軟性</dt><dd>固定</dd>
            </dl>
          </div>
          <div class="cmp-card">
            <div class="brand">大手代理店</div>
            <dl>
              <dt>スピード</dt><dd>1〜2ヶ月</dd>
              <dt>自由度</dt><dd>要審査</dd>
              <dt>集客設計</dt><dd>別チーム</dd>
              <dt>運用/保守</dt><dd>高額契約</dd>
              <dt>価格柔軟性</dt><dd>固定＋手数料</dd>
            </dl>
          </div>
        </div>
      </div>
    </section>

    <!-- ⑤ お客様の声 -->
    <section id="voices" class="sec bg-voices py-16">
      <img src="https://images.unsplash.com/photo-1522199710521-72d69614c702?q=80&w=1600&auto=format&fit=crop" class="absolute inset-0 -z-10 w-full h-full object-cover opacity-20" alt="">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-black text-stable-jp reveal" data-reveal>お客様の声</h2>

        <div class="mt-6 overflow-x-auto snap flex gap-6 pb-2">
          <template x-for="item in voices" :key="item.id">
            <article class="min-w-[82%] md:min-w-[46%] glass rounded-2xl p-6 reveal" data-reveal>
              <div class="flex items-center gap-4">
                <img :src="item.img" class="w-16 h-16 rounded-full object-cover" alt="">
                <div>
                  <div class="text-yellow-300 text-lg">★★★★★</div>
                  <p class="text-sm text-slate-400" x-text="item.role"></p>
                </div>
              </div>
              <p class="mt-3 text-lg text-stable-jp" :data-type="item.text"></p>
            </article>
          </template>

          <!-- 追加例 -->
          <article class="min-w-[82%] md:min-w-[46%] glass rounded-2xl p-6 reveal" data-reveal>
            <div class="flex items-center gap-4">
              <img src="https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?q=80&w=256&auto=format&fit=crop" class="w-16 h-16 rounded-full object-cover" alt="">
              <div><div class="text-yellow-300 text-lg">★★★★★</div><p class="text-sm text-slate-400">製造業 / 事業開発</p></div>
            </div>
            <p class="mt-3 text-lg text-stable-jp" data-type="要件整理から一緒に走ってもらえた。現場が動きやすい仕組みに。"></p>
          </article>
          <article class="min-w-[82%] md:min-w-[46%] glass rounded-2xl p-6 reveal" data-reveal>
            <div class="flex items-center gap-4">
              <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=256&auto=format&fit=crop" class="w-16 h-16 rounded-full object-cover" alt="">
              <div><div class="text-yellow-300 text-lg">★★★★★</div><p class="text-sm text-slate-400">士業 / 代表</p></div>
            </div>
            <p class="mt-3 text-lg text-stable-jp" data-type="“伝わる構成”で信用が上がった実感。問い合わせの質も上がった。"></p>
          </article>
          <article class="min-w-[82%] md:min-w-[46%] glass rounded-2xl p-6 reveal" data-reveal>
            <div class="flex items-center gap-4">
              <img src="https://images.unsplash.com/photo-1531123897727-8f129e1688ce?q=80&w=256&auto=format&fit=crop" class="w-16 h-16 rounded-full object-cover" alt="">
              <div><div class="text-yellow-300 text-lg">★★★★★</div><p class="text-sm text-slate-400">飲食 / マネージャー</p></div>
            </div>
            <p class="mt-3 text-lg text-stable-jp" data-type="SNSと連動した導線でECが伸びた。施策が早い。"></p>
          </article>
          <article class="min-w-[82%] md:min-w-[46%] glass rounded-2xl p-6 reveal" data-reveal>
            <div class="flex items-center gap-4">
              <img src="https://images.unsplash.com/photo-1527980965255-d3b416303d12?q=80&w=256&auto=format&fit=crop" class="w-16 h-16 rounded-full object-cover" alt="">
              <div><div class="text-yellow-300 text-lg">★★★★★</div><p class="text-sm text-slate-400">採用 / ベンチャー</p></div>
            </div>
            <p class="mt-3 text-lg text-stable-jp" data-type="採用LPのストーリーが刺さり応募が倍増。面接の歩留まりも改善。"></p>
          </article>
        </div>
        <p class="text-slate-400 text-sm mt-2">横にスワイプでさらに表示</p>
      </div>
    </section>

    <!-- ⑥ 会社について -->
    <section id="about" class="sec bg-about py-16"
      style="background-image:url('https://images.unsplash.com/photo-1520975916090-3105956dac38?q=80&w=1600&auto=format&fit=crop'); background-size:cover; background-position:center;">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-black text-stable-jp reveal" data-reveal>会社について</h2>

        <div class="mt-6 grid md:grid-cols-[300px_1fr] gap-6 items-start">
          <div class="glass rounded-2xl p-4 reveal" data-reveal>
            <img src="https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?q=80&w=640&auto=format&fit=crop" class="w-full h-72 object-cover rounded-xl" alt="代表写真">
          </div>
          <div class="rounded-2xl p-6 reveal shadow-soft" data-reveal style="background:rgba(0,0,0,.55); border:1px solid rgba(255,255,255,.12); backdrop-filter:blur(8px)">
            <div class="grid md:grid-cols-2 gap-4 text-stable-jp">
              <p><b>年齢：</b> 29</p>
              <p><b>家族構成：</b> 妻・子1人・猫1匹</p>
              <p><b>趣味：</b> 写真 / スノボ / コーヒー</p>
              <p><b>事業：</b> ホームページ制作 / EC構築 / 業務自動化</p>
            </div>
            <p class="mt-3 text-stable-jp leading-relaxed"><b>一言：</b>“小さく早く出して、ちゃんと効かせる”。価値に直結する所へ最短で投資します。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ⑦ Q&A -->
    <section id="qa" class="sec py-16">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-black text-stable-jp reveal" data-reveal>Q&amp;A</h2>
        <div class="mt-6 space-y-3">
          <details class="glass rounded-xl p-4 reveal" data-reveal><summary class="font-bold cursor-pointer text-stable-jp">納期はどれくらい？</summary><p class="mt-2 text-slate-300 text-stable-jp">最短5営業日で初版公開。規模・素材の準備状況により変動します。</p></details>
          <details class="glass rounded-xl p-4 reveal" data-reveal><summary class="font-bold cursor-pointer text-stable-jp">写真・原稿が無い</summary><p class="mt-2 text-slate-300 text-stable-jp">撮影・コピー作成も対応。ゼロからでも大丈夫です。</p></details>
          <details class="glass rounded-xl p-4 reveal" data-reveal><summary class="font-bold cursor-pointer text-stable-jp">費用が膨らまないか不安</summary><p class="mt-2 text-stable-jp text-slate-300">見積時の上限を明確化。むしろ削れる所は提案して下げます。</p></details>
          <details class="glass rounded-xl p-4 reveal" data-reveal><summary class="font-bold cursor-pointer text-stable-jp">SEOはどの程度まで？</summary><p class="mt-2 text-stable-jp text-slate-300">情報設計・速度・構造化まで初期対応。運用案もご提案します。</p></details>
          <details class="glass rounded-xl p-4 reveal" data-reveal><summary class="font-bold cursor-pointer text-stable-jp">保守や更新は？</summary><p class="mt-2 text-stable-jp text-slate-300">軽保守〜継続改善まで柔軟に。更新は別見積りですが無料対応も多いです。</p></details>
          <details class="glass rounded-xl p-4 reveal" data-reveal><summary class="font-bold cursor-pointer text-stable-jp">対面・オンラインどちら？</summary><p class="mt-2 text-stable-jp text-slate-300">基本は訪問派。遠方・ご希望があればリモートでスピーディに。</p></details>
          <details class="glass rounded-xl p-4 reveal" data-reveal><summary class="font-bold cursor-pointer text-stable-jp">CMSは何を使う？</summary><p class="mt-2 text-stable-jp text-slate-300">WP / Headless / CMS-lessから要件に合わせて。運用の楽さを最優先。</p></details>
        </div>
      </div>
    </section>

    <!-- ENDROLL -->
    <footer class="endroll py-20">
      <div class="roll">
        <div class="roll-inner text-center text-stable-jp">
          <h3 class="text-4xl md:text-5xl font-black mb-6">Thanks for scrolling</h3>
          <p class="text-lg md:text-xl">CCstudio — Build fast. Ship beautiful.</p>
          <p class="text-lg md:text-xl">Design / Development / SEO / Speed / A11y</p>
          <p class="text-base md:text-lg mt-6 text-slate-300">© <span x-text="year"></span> CCstudio</p>
        </div>
      </div>
      <div class="mt-10 flex items-center justify-center gap-4 sns">
        <a href="#" aria-label="X"><svg viewBox="0 0 24 24" width="26" height="26" fill="currentColor"><path d="M18.9 2H22l-8.5 9.7L22.7 22h-7l-5.5-6.7L3 22H.1l9-10.3L.9 2h7l5 6.1L18.9 2z"/></svg></a>
        <a href="#" aria-label="Instagram"><svg viewBox="0 0 24 24" width="26" height="26" fill="currentColor"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5A5.5 5.5 0 1 1 6.5 13 5.5 5.5 0 0 1 12 7.5zm0 2A3.5 3.5 0 1 0 15.5 13 3.5 3.5 0 0 0 12 9.5zM18 6.2a1.2 1.2 0 1 1-1.2 1.2A1.2 1.2 0 0 1 18 6.2z"/></svg></a>
        <a href="#" aria-label="LINE"><svg viewBox="0 0 24 24" width="26" height="26" fill="currentColor"><path d="M20.5 3A6.5 6.5 0 0 1 27 9.5v1A9.5 9.5 0 0 1 17.5 20h-.7l-3.6 3.2a1 1 0 0 1-1.7-.7v-2.6A9.5 9.5 0 0 1 3 10.5v-1A6.5 6.5 0 0 1 9.5 3h11z" transform="scale(.83) translate(2.8,1.6)"/></svg></a>
      </div>
    </footer>
  </main>

  <!-- ===== Modals ===== -->
  <div class="fixed inset-0 bg-black/55 backdrop-blur-md grid place-items-center z-50" x-show="modals.detail" x-transition.opacity>
    <div class="w-[min(720px,92vw)] glass shadow-soft p-6 rounded-2xl" @click.outside="modals.detail=false">
      <h3 class="text-2xl font-black mb-3 text-stable-jp" x-text="detail.title + ' の詳細'"></h3>
      <div class="space-y-2 text-stable-jp">
        <p><b>料金</b>：表示価格より上がることはありません。</p>
        <p><b>納期</b>：最短5営業日（※変動あり）</p>
        <p><b>打ち合わせ</b>：基本的にお伺いしたいです。リモートも対応可</p>
        <p><b>更新</b>：別途お見積り（※無料が多いです）</p>
        <p><b>支払い</b>：銀行振込のみ</p>
      </div>
      <div class="mt-6 flex justify-end gap-3">
        <button class="btn btn-ghost" @click="modals.detail=false">閉じる</button>
        <button class="btn btn-primary" @click="openConsult(detail.suggest)">この内容で相談</button>
      </div>
    </div>
  </div>

  <div class="fixed inset-0 bg-black/55 backdrop-blur-md grid place-items-center z-50" x-show="modals.consult" x-transition.opacity>
    <div class="w-[min(720px,92vw)] glass shadow-soft p-6 rounded-2xl" @click.outside="modals.consult=false">
      <h3 class="text-2xl font-black mb-4 text-stable-jp">ご相談フォーム</h3>
      <form class="space-y-3" @submit.prevent="submitConsult">
        <div class="grid md:grid-cols-2 gap-3">
          <label class="block"><span class="text-sm text-slate-300">お名前</span>
            <input x-model="form.name" required class="w-full mt-1 px-3 py-2 rounded-lg bg-black/30 border border-white/15" />
          </label>
          <label class="block"><span class="text-sm text-slate-300">会社名</span>
            <input x-model="form.company" class="w-full mt-1 px-3 py-2 rounded-lg bg-black/30 border border-white/15" />
          </label>
        </div>
        <div>
          <span class="text-sm text-slate-300">ご要望サービス</span>
          <div class="mt-2 flex flex-wrap gap-2">
            <button type="button" :class="serviceBtn('HP作成')" @click="toggleService('HP作成')">HP作成</button>
            <button type="button" :class="serviceBtn('ECサイト作成')" @click="toggleService('ECサイト作成')">ECサイト作成</button>
            <button type="button" :class="serviceBtn('業務効率化')" @click="toggleService('業務効率化')">業務効率化</button>
          </div>
        </div>
        <label class="block"><span class="text-sm text-slate-300">メールアドレス</span>
          <input x-model="form.email" type="email" required class="w-full mt-1 px-3 py-2 rounded-lg bg-black/30 border border-white/15" />
        </label>
        <label class="block"><span class="text-sm text-slate-300">ご要望等</span>
          <textarea x-model="form.note" rows="4" class="w-full mt-1 px-3 py-2 rounded-lg bg-black/30 border border-white/15"></textarea>
        </label>
        <div class="pt-2 flex justify-end gap-3">
          <button type="button" class="btn btn-ghost" @click="modals.consult=false">閉じる</button>
          <button type="submit" class="btn btn-primary">送信</button>
        </div>
      </form>
      <p class="mt-3 text-xs text-slate-400">※Slack連携する場合は app() の <code>WEBHOOK_URL</code> を設定してください。</p>
    </div>
  </div>

  <script>
    function app(){
      return {
        year: new Date().getFullYear(),
        phoneNumber: '070-3956-5564',
        _started:false, _heroStarted:false,
        isCoarse:false,

        intro:{ active:true, showEnter:false, done:false },
        typed:'',

        hero:{ showTitle:false, showSub:false, subTyped:'', showSubCaret:false,
               showTagline:false, taglineTyped:'', showTaglineCaret:false },

        modals:{ consult:false, detail:false },
        detail:{ title:'', suggest:'' },

        form:{ name:'', company:'', email:'', note:'', services:[] },

        /* 背景スクロールコード */
        scrollCode:`/* CCstudio — Build fast. Ship beautiful. */
import { ship } from "./core/ship.js";
import { audit, track } from "./core/analytics.js";
import { optimize } from "./core/optimize.js";

// Focus
const focus = "常に挑戦者であれ─。";
const pillars = ["Design","Dev","SEO","Speed","A11y"];
const speed = "最短5営業日";

// Stack
const stack = {
  runtime: "Edge",
  ui: "Tailwind",
  js: "Alpine",
  bundler: "Vite",
  cms: ["Headless","WP","CMS-less"],
  tools: ["GA4","Tags","ABTest","LCP-Guard"]
};

// Flow
function plan(c){ return { goals:c.goals, budget:c.budget }; }
function design(o){ return { brand:o.brand, motion:true }; }
function build(s){ return ship({ ...s, perf:100, a11y:true }); }
const run = () => audit() && optimize();
`,
        scrollIndex:0,

        voices:[
          {id:1,img:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?q=80&w=256&auto=format&fit=crop",role:"建設業 / マーケ担当",text:"初版公開までの速さに驚き。公開後1ヶ月で問い合わせが1.4倍に。"},
          {id:2,img:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=256&auto=format&fit=crop",role:"採用サイト / 人事",text:"『伝わるコピー』と導線見直しが刺さり、応募数が着実に増えました。"},
          {id:3,img:"https://images.unsplash.com/photo-1531123897727-8f129e1688ce?q=80&w=256&auto=format&fit=crop",role:"EC / カフェ店長",text:"ネットから買えるようになって売上が底上げされました。"},
        ],

        init(){
          if (this._started) return; this._started = true;

          // スポットの強さ（タッチ端末は弱め）
          this.isCoarse = matchMedia('(pointer:coarse)').matches;
          if (this.isCoarse){ document.documentElement.style.setProperty('--spotStrength','.10'); this._pulseSpot(); }

          // フォント読み込み後にイントロ開始
          if (document.fonts && document.fonts.ready) { document.fonts.ready.then(()=> this._intro()); }
          else { this._intro(); }

          this._initReveal();
          this._initProgress();
          this._bindScrollCode();
          this._autoplayHero();
        },

_autoplayHero(){
  const v = document.getElementById('heroVideo');
  if(!v) return;

  // 自動再生の“おまじない”は属性とプロパティ両方
  v.muted = true;
  v.defaultMuted = true;
  v.setAttribute('muted','');
  v.setAttribute('playsinline','');
  v.setAttribute('webkit-playsinline','');

  const tryPlay = () => v.play().catch(err=>{
    console.debug('[heroVideo] autoplay blocked:', err?.name || err);
  });

  // 読み込めたタイミングで再生を試す
  if (v.readyState >= 2) { tryPlay(); }
  else {
    v.addEventListener('loadeddata', tryPlay, { once:true });
    v.addEventListener('canplay', tryPlay, { once:true });
  }

  // ユーザー操作があれば即再試行（iOS/Safari 対策）
  const resume = () => { tryPlay(); 
    window.removeEventListener('pointerdown', resume);
    window.removeEventListener('touchstart', resume);
  };
  window.addEventListener('pointerdown', resume, { once:true });
  window.addEventListener('touchstart', resume, { once:true, passive:true });

  // タブ復帰時にも再試行
  document.addEventListener('visibilitychange', ()=>{ if(!document.hidden) tryPlay(); });

  // エラー時はポスターにフォールバック＆原因をログ
  v.addEventListener('error', (e)=>{
    console.error('[heroVideo] error:', v.error || e);
    document.getElementById('heroPoster')?.classList.remove('hidden');
    v.classList.add('hidden');
  });

  // 念のため
  v.load();
  tryPlay();
},

        async _intro(){
          const code =
`/* CCstudio — Build fast. Ship beautiful. */
import { ship } from "./core/ship.js";
import { audit, track } from "./core/analytics.js";
import { optimize } from "./core/optimize.js";

// Focus
const focus = "常に挑戦者であれ─。";
const pillars = ["Design","Dev","SEO","Speed","A11y"];
const speed = "最短5営業日";`;
          this.typed=''; for(let i=0;i<code.length;i++){ this.typed += code[i]; await this._pause(6+Math.random()*6); }
          this.intro.showEnter = true; await this._pause(1000);
          document.querySelector('.intro-wrap')?.classList.add('pressed'); await this._pause(160);
          this.intro.done = true; await this._pause(40); this.intro.active = false;

          await this._heroSequence();
        },

        async _heroSequence(){
          if (this._heroStarted) return; this._heroStarted = true;

          this.hero.showTitle = true; await this._pause(200);
          this.hero.showSub = true; this.hero.showSubCaret = true;
          const sub = '企業の顔を、最高クオリティで創る。';
          this.hero.subTyped=''; for(let i=0;i<sub.length;i++){ this.hero.subTyped += sub[i]; await this._pause(24 + Math.random()*10); }
          this.hero.showSubCaret=false;

          await this._pause(160);
          this.hero.showTagline = true; this.hero.showTaglineCaret = true;
          const tag = 'C(Creative)C(Challenger)studio';
          this.hero.taglineTyped=''; for(let i=0;i<tag.length;i++){ this.hero.taglineTyped += tag[i]; await this._pause(56 + Math.random()*22); }
          this.hero.showTaglineCaret=false;
        },

        /* Spotlight */
        spot(e){
          const x=(e.touches?.[0]?.clientX ?? e.clientX ?? innerWidth/2)+'px';
          const y=(e.touches?.[0]?.clientY ?? e.clientY ?? innerHeight/2)+'px';
          document.documentElement.style.setProperty('--mx',x);
          document.documentElement.style.setProperty('--my',y);
        },
        _pulseSpot(){
          let dir=1;
          setInterval(()=>{
            const cur=parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--spotStrength'))||.10;
            let next=cur+(dir*0.02);
            if(next>.18){dir=-1; next=.18}
            if(next<.08){dir=1; next=.08}
            document.documentElement.style.setProperty('--spotStrength',String(next));
          },100);
        },

        /* Tilt */
        tilt(ev){
          const c=ev.currentTarget, r=c.getBoundingClientRect();
          const x=(ev.clientX-r.left)/r.width-0.5, y=(ev.clientY-r.top)/r.height-0.5;
          c.style.transform=`perspective(900px) rotateX(${ -y*6 }deg) rotateY(${ x*6 }deg) translateY(-3px)`;
        },
        untilt(ev){ ev.currentTarget.style.transform=''; },

        /* Modals */
        openDetail(title){
          this.detail={ title, suggest: title.includes('HP')?'HP作成': title.includes('EC')?'ECサイト作成':'業務効率化' };
          this.modals.detail=true;
        },
        openConsult(prefill){ if(prefill) this.form.services=[prefill]; this.modals.consult=true; },
        serviceBtn(name){ return 'px-3 py-2 rounded-lg border transition '+(this.form.services.includes(name)?'bg-cyan-500/20 border-cyan-300/50 text-cyan-100 font-bold':'bg-black/30 border-white/15 text-slate-200 hover:border-white/30'); },
        toggleService(name){ const i=this.form.services.indexOf(name); if(i>=0)this.form.services.splice(i,1); else this.form.services.push(name); },
        async submitConsult(){
          const WEBHOOK_URL='';
          const payload={ text:`【相談】\nお名前: ${this.form.name}\n会社名: ${this.form.company}\nサービス: ${this.form.services.join(',')}\nメール: ${this.form.email}\n要望:\n${this.form.note}` };
          try{ if(WEBHOOK_URL){ await fetch(WEBHOOK_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)}); }
            else{ console.log('Slack payload',payload); }
            alert('送信しました。ありがとうございます！'); this.modals.consult=false; this.form={name:'',company:'',email:'',note:'',services:[]};
          }catch(e){ alert('送信に失敗しました。後ほどお試しください。'); }
        },

        /* Reveal & Type */
        _initReveal(){
          const io=new IntersectionObserver((entries)=>{
            entries.forEach(({isIntersecting,target})=>{
              if(isIntersecting){
                target.classList.add('is-visible');
                target.querySelectorAll('[data-type]').forEach((el,idx)=> setTimeout(()=> this._typeWriter(el), 120*idx));
                io.unobserve(target);
              }
            })
          },{threshold:.12});
          document.querySelectorAll('.reveal,[data-reveal]').forEach(el=> io.observe(el));
        },
        _typeWriter(el){ const t=el.getAttribute('data-type')||''; el.textContent=''; let i=0; (function tick(){ if(i<=t.length){ el.textContent=t.slice(0,i++); requestAnimationFrame(()=> setTimeout(tick,12+Math.random()*28)); } })(); },

        /* Progress */
        _initProgress(){
          const bar=document.getElementById('progress');
          const update=()=>{ const h=document.documentElement, sc=h.scrollTop, max=h.scrollHeight-h.clientHeight, pct=max>0?(sc/max)*100:0; if(bar) bar.style.width=pct+'%'; };
          update(); addEventListener('scroll',update,{passive:true}); addEventListener('resize',update);
        },

        /* 背景コードのスクロール進捗 */
        _bindScrollCode(){
          const update=()=>{
            const h=document.documentElement, sc=h.scrollTop, max=h.scrollHeight-h.clientHeight, pct=max>0?sc/max:0;
            this.scrollIndex=Math.floor(this.scrollCode.length * (pct*1.05)); // 少し先行
          };
          update(); addEventListener('scroll',update,{passive:true}); addEventListener('resize',update);
        },

        _pause(ms){ return new Promise(r=>setTimeout(r,ms)); },
      }
    }
  </script>
</body>
</html>
